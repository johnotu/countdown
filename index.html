<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>Countdown</title>
    <link href="/styles/bootstrap.min.css" rel="stylesheet">
    <link href="/styles/index.css" rel="stylesheet">
    <link href="/styles/font-awesome.min.css" rel="stylesheet">
  </head>

  <body>
    <div class="jumbotron cover">
        <div class="container">
            <h2 class="days"><span id="days" ></span></h2>
            <p class="txt">DAY(S)</p>
            <p class="hr-min-sec txt"><span id="hrs"></span>h</p>
            <p class="hr-min-sec txt"><span id="mins"></span>m </p>
            <p class="hr-min-sec txt"><span id="secs"></span>s </p>
            <p class="hr-min-sec txt"><span id="notice"></span></p>
            <p class="txt">remaining for submitting our React CountdownTimer app.</p>
            <p><i class="fa fa-quote-left fa-lg"></i> <span class="quotes" id="quote"></span> <i class="fa fa-quote-right fa-lg"></i></p>
            <p>-- <span id="author"></span></p>
        </div>
    </div>

    <script>
      (function() {
        'use strict';

        let daysId = document.getElementById("days"),
            hrsId = document.getElementById("hrs"),
            minsId = document.getElementById("mins"),
            secsId = document.getElementById("secs"),
            notice = document.getElementById("notice"),
            quoteId = document.getElementById("quote"),
            authorId = document.getElementById("author");
        let countDownDate = new Date("Sep 1, 2018 0:0:0").getTime();
        let minsCount = 0;

        

        let countDown = setInterval(() => {
            let now = new Date().getTime();
            let timeLeft = countDownDate - now;
            let days = Math.floor(timeLeft / (1000*60*60*24));
            let hrs = Math.floor((timeLeft % (1000*60*60*24)) / (1000*60*60));
            let mins = Math.floor((timeLeft % (1000*60*60)) / (1000*60));
            let secs = Math.floor((timeLeft % (1000*60)) / 1000);

            daysId.innerHTML = days;
            hrsId.innerHTML = hrs;
            minsId.innerHTML = mins;
            secsId.innerHTML = secs;
            

            minsCount ++;

            if (minsCount === 60) {
              let id = Math.floor(Math.random() * quotes.length);
              quoteId.innerHTML = quotes[id].quote;
              authorId.innerHTML = quotes[id].author;
              minsCount = 0;
            }

            if (timeLeft < 0) {
                clearInterval(countDown);
                notice.innerHTML("Congratulations, 2017 MEST Alumnus");
            }
        }, 1000);

        
       

        // TODO - 2: Regsiter the service worker
        if (!('serviceWorker' in navigator)) {
          console.log('Service worker not supported');
          return;
        }
        navigator.serviceWorker.register('service-worker.js')
        .then(() => {
          console.log('Registered');
        })
        .catch((error) => {
          console.log('Registration failed: ', error);
        })

        const quotes = [

		{
			"author": "Pele",
			"quote": "Success is no accident. It is hard work, perseverance, learning, studying, sacrifice and most of all, love of what you are doing or learning to do."
		},
		{
			"author": "Colin Powell",
			"quote": "There are no secrets to success. It is the result of preparation, hard work, and learning from failure."
		},
		{
			"author": "Colin Powell",
			"quote": "A dream doesn't become reality through magic; it takes sweat, determination and hard work."
		},
		{
			"author": "Colin Powell",
			"quote": "Success is the result of perfection, hard work, learning from failure, loyalty, and persistence."
		},
		{
			"author": "Gail Devers",
			"quote": "Keep your dreams alive. Understand to achieve anything requires faith and belief in yourself, vision, hard work, determination, and dedication. Remember all things are possible for those who believe."
		},
		{
			"author": "Dwayne Johnson",
			"quote": "Success isn't always about greatness. It's about consistency. Consistent hard work leads to success. Greatness will come."
		},
		{
			"author": "Vince Lombardi",
			"quote": "The price of success is hard work, dedication to the job at hand, and the determination that whether we win or lose, we have applied the best of ourselves to the task at hand."
		},
		{
			"author": "Newt Gingrich",
			"quote": "Perseverance is the hard work you do after you get tired of doing the hard work you already did."
		},
		{
			"author": "Tommy Hilfiger",
			"quote": "The road to success is not easy to navigate, but with hard work, drive and passion, it's possible to achieve the American dream."
		},
		{
			"author": "Margaret Mead",
			"quote": "I learned the value of hard work by working hard."
		},
		{
			"author": "John Carmack",
			"quote": "Focused, hard work is the real key to success. Keep your eyes on the goal, and just keep taking the next step towards completing it. If you aren't sure which way to do something, do it both ways and see which works better."
		},
		{
			"author": "Pope Paul VI",
			"quote": "All life demands struggle. Those who have everything given to them become lazy, selfish, and insensitive to the real values of life. The very striving and hard work that we so constantly try to avoid is the major building block in the person we are today."
		},
		{
			"author": "Jahangir Khan",
			"quote": "Without hard work and discipline it is difficult to be a top professional."
		},
		{
			"author": "Gordon B. Hinckley",
			"quote": "Without hard work, nothing grows but weeds."
		},
		{
			"author": "A. P. J. Abdul Kalam",
			"quote": "If four things are followed - having a great aim, acquiring knowledge, hard work, and perseverance - then anything can be achieved."
		},
		{
			"author": "Ben Carson",
			"quote": "Through hard work, perseverance and a faith in God, you can live your dreams."
		},
		{
			"author": "Kevin Eubanks",
			"quote": "Inspiration is one thing and you can't control it, but hard work is what keeps the ship moving. Good luck means, work hard. Keep up the good work."
		},
		{
			"author": "Calvin Coolidge",
			"quote": "Knowledge comes, but wisdom lingers. It may not be difficult to store up in the mind a vast quantity of facts within a comparatively short time, but the ability to form judgments requires the severe discipline of hard work and the tempering heat of experience and maturity."
		},
		{
			"author": "Thomas A. Edison",
			"quote": "There is no substitute for hardwork."
		},
		{
			"author": "Kevin Hart",
			"quote": "Everybody wants to be famous, but nobody wants to do the work. I live by that. You grind hard so you can play hard. At the end of the day, you put all the work in, and eventually it'll pay off. It could be in a year, it could be in 30 years. Eventually, your hard work will pay off."
		},
		{
			"author": "Vince Lombardi",
			"quote": "Football is like life - it requires perseverance, self-denial, hard work, sacrifice, dedication and respect for authority."
		},
		{
			"author": "Stephen King",
			"quote": "Talent is cheaper than table salt. What separates the talented individual from the successful one is a lot of hard work."
		},
		{
			"author": "Derek Jeter",
			"quote": "When you put a lot of hard work into one goal and you achieve it, that's a really good feeling."
		},
		{
			"author": "Heather Bresch",
			"quote": "There is simply no substitute for hard work when it comes to achieving success."
		},
		{
			"author": "Ann Landers",
			"quote": "Opportunities are usually disguised as hard work, so most people don't recognize them."
		}
	];

      let id = Math.floor(Math.random() * quotes.length);
              quoteId.innerHTML = quotes[id].quote;
              authorId.innerHTML = quotes[id].author;
      })();
    </script>
  </body>
</html>
